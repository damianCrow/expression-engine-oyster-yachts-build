{"version":3,"sources":["../../../client/components/util/social-grid.js"],"names":[],"mappings":"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","file":"social-grid.js","sourcesContent":["'use strict';\n\ndefine(['jquery', './social-mock-data'], function($, socialItems) {\n\n\t/**\n\t * Social Item object\n\t * @param {String} platform Social media platform (\"youtube\", \"instagram\", \"twitter\")\n\t * @param {[type]} data     Social media item data\n\t */\n\tvar SocialItem = function(platform, data) {\n\t\t// social platform\n\t\tthis.platform = platform;\n\t\t\n\t\t// social data for this item\n\t\tthis.data = data;\n\t\t\n\t\t// is this slide on the page\n\t\tthis.active = false;\n\n\t\t// jQuery object of the slide\n\t\tthis.$el = this.buildElement(data);\n\t};\n\n\t\n\n\t/**\n\t * Build DOM element based on social media platform\n\t * @return {jQuery object} social item block\n\t */\n\tSocialItem.prototype.buildElement = function() {\n\t\t// youtube\n\t\tif (this.platform === \"youtube\") {\n\t\t\treturn $('<a target=\"_blank\" href=\"' + this.data.url + '\" style=\"background-image:url(' + this.data.image + ')\" class=\"social-slide social-slide-youtube\"><i class=\"fa fa-youtube-play\"></i></a>');\n\t\t\n\t\t// instagram\n\t\t} else if (this.platform === \"instagram\") {\n\t\t\treturn $('<a target=\"_blank\" href=\"' + this.data.url + '\" style=\"background-image:url(' + this.data.image + ')\" class=\"social-slide social-slide-instagram\"><i class=\"fa fa-instagram\"></i></a>');\n\t\t\n\t\t// twitter\n\t\t} else if (this.platform === \"twitter\") {\n\t\t\treturn $('<a target=\"_blank\" href=\"' + this.data.url + '\" class=\"social-slide twitter social-slide-twitter\"><i class=\"fa fa-twitter\"></i><p>' + this.data.tweet + '</p></a>');\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Social Grid object\n\t */\n\tvar SocialGrid = function() {\n\t\t// if no social items then bail\n\t\tif (typeof socialItems === 'undefined') return;\n\n\t\tvar _this = this;\n\n\t\t// select all slide blocks from the DOM\n\t\t_this.$el = $('.social-slider');\n\n\t\t// list of social items\n\t\t_this.items = [];\n\n\t\t// populate the list of social items with SocialItem objects\n\t\t$.each(socialItems, function(platform, platformItems) {\n\t\t\t$.each(platformItems, function(i, platformItem) {\n\t\t\t\t_this.items.push(new SocialItem(platform, platformItem));\n\t\t\t});\n\t\t});\n\n\t\t// iterate over all DOM slide blocks, adding initial slides\n\t\t$.each(_this.$el, function(i, $block) {\n\t\t\t// get a new SocialItem index which isn't active\n\t\t\tvar index = _this.getNewIndex();\n\n\t\t\t// append slide to DOM\n\t\t\t_this.items[index].$el.appendTo($block);\n\n\t\t\t// start loop\n\t\t\t_this.newItem($block, index);\n\t\t});\n\t};\n\n\n\n\t/**\n\t * Get a SocialItem which is not active\n\t * @return {int} index of new slide\n\t */\n\tSocialGrid.prototype.getNewIndex = function() {\n\t\t// get random number from 0 to this.items.length-1\n\t\tvar index = Math.floor((Math.random() * this.items.length));\n\n\t\t// if the slide at the new index is active then get another index\n\t\tif (this.items[index].active === true) return this.getNewIndex();\n\n\t\t// set SocialItem at new index to active\n\t\tthis.items[index].active = true;\n\t\t\n\t\treturn index;\n\t};\n\n\n\n\t/**\n\t * Add new slide to block\n\t * @param  {jQuery object} $block       DOM block we're dealing with\n\t * @param  {int} oldItemIndex old SocialItem index of the block\n\t */\n\tSocialGrid.prototype.newItem = function($block, oldItemIndex) {\n\t\tvar _this = this;\n\n\t\t// get random delay\n\t\tvar delay = Math.floor(Math.random() * 16000) + 10000;\n\n\t\t// get new slide after random time is up\n\t\tsetTimeout(function() {\n\t\t\t// get a new SocialItem index which isn't active\n\t\t\tvar newItemIndex = _this.getNewIndex();\n\n\t\t\t// add class to old item => adds z-index above new slide and fades opacity to 0\n\t\t\t_this.items[oldItemIndex].$el.addClass('fade-block');\n\n\t\t\t// add new item to block\n\t\t\t_this.items[newItemIndex].$el.appendTo($block);\n\n\t\t\t// give time for old slide to animate out\n\t\t\tsetTimeout(function() {\n\t\t\t\t// detach the old slide and remove the animation class\n\t\t\t\t_this.items[oldItemIndex].$el.removeClass('fade-block').detach();\n\t\t\t\t\n\t\t\t\t// set old SocialItem to inactive\n\t\t\t\t_this.items[oldItemIndex].active = false;\n\n\t\t\t\t// recursively get new item\n\t\t\t\t_this.newItem($block, newItemIndex);\n\t\t\t}, 1000);\n\t\t}, delay);\n\t};\n\n\treturn SocialGrid;\n});"]}
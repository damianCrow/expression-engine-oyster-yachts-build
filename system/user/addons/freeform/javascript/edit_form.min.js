(function(a,e){e(function(){var a=window.Freeform||{};var t=e("div.publish");var n=t.closest("fieldset");var i=e('[name="form_type"]');var o=e('[data-field="form_fields"]',t);var r=e(".relate-wrap",t).not(o);var s=e('[name="field_ids"]');var l=e('[name="field_order"]');var f=e('input[name="form_fields[]"]:first').parents("fieldset.col-group:first");var d=e('form[action*="save_form"].settings fieldset.form-ctrls [type="submit"]');d.val(a.lang.save).attr("data-submit-text",a.lang.save);a.autoGenerateShortname(e('[name="form_label"]:first'),e('[name="form_name"]:first'));if(a.pro){var m=d.clone().attr("id","save_and_finish");var v=d.clone().attr("id","continue");m.val(a.lang.saveAndFinish).attr("data-submit-text",a.lang.saveAndFinish);v.val(a.lang.continue).attr("data-submit-text",a.lang.continue);d.parent().append(m).append(v);i.on("change",function(a){setTimeout(function(){if(i.val()=="template"){m.hide();v.hide();d.show();n.show();f.show()}else{m.show();v.show();d.hide();n.hide();f.hide()}},100)}).change();v.on("click",function(){e('[name="ret"]').val("composer")});m.on("click",function(){e('[name="ret"]').val("composer_save_finish")})}t.on("mouseup",function(a){setTimeout(function(){var a=[];r.find("label[data-entry-id]").each(function(t){var n=e(this);a.push(n.attr("data-entry-id"))});l.val(a.join("|"));s.val(a.sort().join("|"))},100)}).mouseup()})})(window,jQuery);